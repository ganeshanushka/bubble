<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble - Profiles</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app-wrap">
        <nav class="top-nav fade-in">
            <a href="my-profile.html" class="profile-btn" id="profileNavBtn">
                <span id="navUserName">Anushka</span>
                <div class="profile-btn-avatar" id="navUserAvatar">A</div>
            </a>
        </nav>

        <div class="hero" style="padding-top: 1rem;">
            <h1 class="logo fade-in">Profiles</h1>
        </div>

        <div class="profiles-container fade-in"
            style="animation-delay: 0.3s; display: flex; flex-direction: column; align-items: center; gap: 1.5rem; padding: 2rem 1rem; max-width: 600px; margin: 0 auto;">

            <!-- Profile 1 -->
            <a href="user-profile.html?user=isabella" style="text-decoration: none; color: inherit; display: contents;">
                <div class="profile-card" style="cursor: pointer;">
                    <div class="profile-img-wrap">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&q=80&w=200&h=200"
                            alt="Isabella">
                    </div>
                    <h2 class="profile-name">Isabella, 21</h2>
                    <p class="profile-major">Psychology</p>
                    <p class="profile-bio">Coffee addict, reading in the quad, always exploring vintage shops.</p>
                    <button class="btn-add btn-connect">Connect</button>
                </div>
            </a>

            <!-- Profile 2 -->
            <a href="user-profile.html?user=liam" style="text-decoration: none; color: inherit; display: contents;">
                <div class="profile-card" style="cursor: pointer;">
                    <div class="profile-img-wrap">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=200&h=200"
                            alt="Liam">
                    </div>
                    <h2 class="profile-name">Liam, 22</h2>
                    <p class="profile-major">Computer Science</p>
                    <p class="profile-bio">Hackathons, climbing gym, and building pointless apps. Let's code.</p>
                    <button class="btn-add btn-connect">Connect</button>
                </div>
            </a>

            <!-- Profile 3 -->
            <a href="user-profile.html?user=sophia" style="text-decoration: none; color: inherit; display: contents;">
                <div class="profile-card" style="cursor: pointer;">
                    <div class="profile-img-wrap">
                        <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=200&h=200"
                            alt="Sophia">
                    </div>
                    <h2 class="profile-name">Sophia, 20</h2>
                    <p class="profile-major">Architecture</p>
                    <p class="profile-bio">Model building at 3 AM. Looking for study buddies who bring snacks.</p>
                    <button class="btn-add btn-connect">Connect</button>
                </div>
            </a>

        </div>
    </div>

    <div id="floatBubbles" class="float-bubbles"></div>

    <script src="app.js"></script>
    <script>
        document.body.classList.add('bubble-done');

        // Update Nav from LocalStorage
        const storedProfile = localStorage.getItem('bubble_user_profile');
        if (storedProfile) {
            const profile = JSON.parse(storedProfile);
            if (profile.name) {
                document.getElementById('navUserName').textContent = profile.name.split(' ')[0];
                document.getElementById('navUserAvatar').textContent = profile.name.charAt(0).toUpperCase();

                // Also add a card for the user in the feed
                const container = document.querySelector('.profiles-container');
                if (container) {
                    const cardAnchor = document.createElement('a');
                    cardAnchor.href = 'my-profile.html';
                    cardAnchor.style.textDecoration = 'none';
                    cardAnchor.style.color = 'inherit';
                    cardAnchor.style.display = 'contents';

                    cardAnchor.innerHTML = `
                        <div class="profile-card" style="cursor: pointer; border: 2px solid rgba(75, 156, 211, 0.4); background: rgba(255, 255, 255, 0.85);">
                            <div class="profile-img-wrap" style="position: relative;">
                                <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&q=80&w=200&h=200"
                                    alt="${profile.name}">
                                <div style="position: absolute; top: -10px; right: -10px; background: #4B9CD3; color: white; padding: 4px 10px; border-radius: 1rem; font-size: 0.75rem; font-weight: 700; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">YOU</div>
                            </div>
                            <h2 class="profile-name">${profile.name}, ${profile.age}</h2>
                            <p class="profile-major">${profile.major}</p>
                            <p class="profile-bio">${profile.bio || "No bio yet."}</p>
                            <button class="btn-add btn-connect">My Profile</button>
                        </div>
                    `;
                    // Prepend to show at the top of the feed
                    container.prepend(cardAnchor);
                }
            }
        }

        var floatContainer = document.getElementById('floatBubbles');
        if (floatContainer) {
            for (var b = 0; b < 18; b++) {
                var el = document.createElement('div');
                el.className = 'float-bubble';
                el.style.left = Math.random() * 100 + '%';
                el.style.width = el.style.height = (12 + Math.random() * 24) + 'px';
                el.style.animationDelay = (Math.random() * 5) + 's';
                el.style.animationDuration = (2 + Math.random() * 2) + 's';
                floatContainer.appendChild(el);
            }
        }
    </script>
</body>

</html>